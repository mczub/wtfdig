var H=Object.defineProperty;var N=t=>{throw TypeError(t)};var J=(t,e,s)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Y=(t,e,s)=>J(t,typeof e!="symbol"?e+"":e,s),j=(t,e,s)=>e.has(t)||N("Cannot "+s);var n=(t,e,s)=>(j(t,e,"read from private field"),s?s.call(t):e.get(t)),p=(t,e,s)=>e.has(t)?N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),k=(t,e,s,r)=>(j(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);import{a3 as F,a4 as Q,a5 as T,a6 as V,Y as C,a7 as K,a8 as W,a9 as X,A as x,R as ee,z as te,B as se,E as re,aa as ne,ab as ae,ac as ie,_ as fe,Z as U,ad as D,ae as oe,af as ue,l as I,j as ce,k as le,$ as de,ag as he,J as _e,ah as pe,ai as ve,w as be,M as ge,aj as me,ak as Se,al as Pe,am as we,an as P,S as $,ao as z}from"./B2MXvhv6.js";var d,h,l,v,w,y,R;class ye{constructor(e,s=!0){Y(this,"anchor");p(this,d,new Map);p(this,h,new Map);p(this,l,new Map);p(this,v,new Set);p(this,w,!0);p(this,y,()=>{var e=F;if(n(this,d).has(e)){var s=n(this,d).get(e),r=n(this,h).get(s);if(r)Q(r),n(this,v).delete(s);else{var a=n(this,l).get(s);a&&(n(this,h).set(s,a.effect),n(this,l).delete(s),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[i,o]of n(this,d)){if(n(this,d).delete(i),i===e)break;const f=n(this,l).get(o);f&&(T(f.effect),n(this,l).delete(o))}for(const[i,o]of n(this,h)){if(i===s||n(this,v).has(i))continue;const f=()=>{if(Array.from(n(this,d).values()).includes(i)){var _=document.createDocumentFragment();W(o,_),_.append(C()),n(this,l).set(i,{effect:o,fragment:_})}else T(o);n(this,v).delete(i),n(this,h).delete(i)};n(this,w)||!r?(n(this,v).add(i),V(o,f,!1)):f()}}});p(this,R,e=>{n(this,d).delete(e);const s=Array.from(n(this,d).values());for(const[r,a]of n(this,l))s.includes(r)||(T(a.effect),n(this,l).delete(r))});this.anchor=e,k(this,w,s)}ensure(e,s){var r=F,a=X();if(s&&!n(this,h).has(e)&&!n(this,l).has(e))if(a){var i=document.createDocumentFragment(),o=C();i.append(o),n(this,l).set(e,{effect:K(()=>s(o)),fragment:i})}else n(this,h).set(e,K(()=>s(this.anchor)));if(n(this,d).set(r,e),a){for(const[f,u]of n(this,h))f===e?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[f,u]of n(this,l))f===e?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(n(this,y)),r.ondiscard(n(this,R))}else x&&(this.anchor=ee),n(this,y).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,w=new WeakMap,y=new WeakMap,R=new WeakMap;function Ie(t,e,s=!1){x&&se();var r=new ye(t),a=s?re:0;function i(o,f){if(x){const _=ne(t)===ae;if(o===_){var u=ie();fe(u),r.anchor=u,U(!1),r.ensure(o,f),U(!0);return}}r.ensure(o,f)}te(()=>{var o=!1;e((f,u=!0)=>{o=!0,i(u,f)}),o||i(!1,null)},a)}let E=!1;function Ae(t){var e=E;try{return E=!1,[t(),E]}finally{E=e}}const Ee={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function xe(t,e,s){return new Proxy({props:t,exclude:e},Ee)}const Re={get(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(P(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,s){let r=t.props.length;for(;r--;){let a=t.props[r];P(a)&&(a=a());const i=D(a,e);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(t,e){let s=t.props.length;for(;s--;){let r=t.props[s];if(P(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const a=D(r,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(t,e){if(e===$||e===z)return!1;for(let s of t.props)if(P(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(t){const e=[];for(let s of t.props)if(P(s)&&(s=s()),!!s){for(const r in s)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(s))e.includes(r)||e.push(r)}return e}};function De(...t){return new Proxy({props:t},Re)}function Me(t,e,s,r){var B;var a=!ge||(s&me)!==0,i=(s&ve)!==0,o=(s&Pe)!==0,f=r,u=!0,_=()=>(u&&(u=!1,f=o?be(r):r),f),g;if(i){var Z=$ in t||z in t;g=((B=D(t,e))==null?void 0:B.set)??(Z&&e in t?c=>t[e]=c:void 0)}var m,M=!1;i?[m,M]=Ae(()=>t[e]):m=t[e],m===void 0&&r!==void 0&&(m=_(),g&&(a&&oe(),g(m)));var b;if(a?b=()=>{var c=t[e];return c===void 0?_():(u=!0,c)}:b=()=>{var c=t[e];return c!==void 0&&(f=void 0),c===void 0?f:c},a&&!(s&ue))return b;if(g){var q=t.$$legacy;return function(c,A){return arguments.length>0?((!a||!A||q||M)&&g(A?b():c),c):b()}}var O=!1,S=(s&Se?_e:pe)(()=>(O=!1,b()));i&&I(S);var G=de;return function(c,A){if(arguments.length>0){const L=A?I(S):a&&i?ce(c):c;return le(S,L),O=!0,f!==void 0&&(f=L),c}return we&&O||G.f&he?S.v:I(S)}}export{ye as B,Ie as i,Me as p,xe as r,De as s};
